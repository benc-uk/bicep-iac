
kubeadm init --pod-network-cidr=10.244.0.0/16 --token-ttl=0 --token=abcdef.0123456789abcdef

kubeadm join cp0:6443 --token abcdef.0123456789abcdef --discovery-token-unsafe-skip-ca-verification

kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml


export KUBECONFIG=/etc/kubernetes/admin.conf
alias k='kubectl'
alias kn='kubectl config set-context --current --namespace '

kubectl run my-shell --rm -i --tty --image ubuntu -- bash


```
apiVersion: apps/v1
kind: Deployment
metadata:
  name: demoapp
spec:
  selector:
    matchLabels:
      app: demoapp
  replicas: 4
  template:
    metadata:
      labels:
        app: demoapp
    spec:
      containers:
      - name: demoapp
        image: ghcr.io/benc-uk/nodejs-demoapp:4.7.2
        ports:
        - containerPort: 3000
---        
apiVersion: v1
kind: Service
metadata:
  name: demoapp
spec:
  selector:
    app: demoapp
  ports:
    - protocol: TCP
      port: 80
      targetPort: 3000        
```